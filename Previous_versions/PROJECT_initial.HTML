<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VocalHub - Enhanced Voice Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
</head>
<body class="bg-gradient-to-br from-gray-900 via-indigo-900 to-purple-900 text-gray-100 min-h-screen p-8 font-sans selection:bg-purple-500 selection:text-gray-900">

  <header class="text-center mb-12">
    <h1 class="text-6xl font-extrabold mb-2 drop-shadow-lg">üéôÔ∏è VocalHub</h1>
    <p class="text-lg text-purple-300 tracking-wide font-semibold">AI-Powered Voice Dashboard</p>
    <div
      id="status"
      class="mt-3 text-green-400 font-semibold text-lg hidden select-none"
      aria-live="polite"
    >üéß Listening...</div>
  </header>

  <section
    id="header-cards"
    class="flex flex-wrap justify-center gap-10 max-w-5xl mx-auto text-center"
    aria-label="Summary Statistics"
  >
    <div
      class="w-64 p-8 bg-white/10 backdrop-blur-md rounded-3xl shadow-lg transition hover:bg-white/20 cursor-default"
      role="region"
      aria-labelledby="active-notes-title"
    >
      <h2 id="active-notes-title" class="text-2xl font-semibold mb-3 text-purple-300">Active Notes</h2>
      <p class="text-6xl font-extrabold text-indigo-400">0</p>
    </div>

    <div
      class="w-64 p-8 bg-white/10 backdrop-blur-md rounded-3xl shadow-lg transition hover:bg-white/20 cursor-default"
      role="region"
      aria-labelledby="pending-tasks-title"
    >
      <h2 id="pending-tasks-title" class="text-2xl font-semibold mb-3 text-purple-300">Pending Tasks</h2>
      <p class="text-6xl font-extrabold text-indigo-400">0</p>
    </div>

    <div
      class="w-64 p-8 bg-white/10 backdrop-blur-md rounded-3xl shadow-lg transition hover:bg-white/20 cursor-default"
      role="region"
      aria-labelledby="commands-today-title"
    >
      <h2 id="commands-today-title" class="text-2xl font-semibold mb-3 text-purple-300">Commands Today</h2>
      <p class="text-6xl font-extrabold text-indigo-400">0</p>
    </div>
  </section>

  <main
    id="card-container"
    class="flex flex-wrap justify-center gap-8 max-w-6xl mx-auto my-12"
    aria-live="polite"
  ></main>

  <footer class="text-center">
    <button
      onclick="startVoiceRecognition()"
      class="inline-flex items-center gap-3 px-8 py-4 bg-purple-600 rounded-full text-xl font-semibold text-white shadow-lg hover:bg-purple-700 focus:outline-none focus-visible:ring-4 focus-visible:ring-purple-400 focus-visible:ring-opacity-75 transition"
      aria-label="Start voice recognition"
    >
      <i class="fas fa-microphone text-lg"></i> Start Listening
    </button>
  </footer>

  <script>
    let commandCount = 0;

    function createCard(id, title, icon, html) {
      if (document.getElementById(id)) return;
      const card = document.createElement("section");
      card.id = id;
      card.className =
        "p-6 bg-white/10 backdrop-blur-sm rounded-2xl shadow-md w-72 transition hover:bg-white/20";
      card.setAttribute("aria-label", title);
      card.innerHTML = `
        <h2 class="text-2xl font-semibold mb-4 flex items-center gap-3 text-purple-300">
          <i class="fas ${icon} text-indigo-400"></i>${title}
        </h2>
        <div class="text-gray-200">${html}</div>
      `;
      document.getElementById("card-container").appendChild(card);
      updateCommandCount();
    }

    function updateCommandCount() {
      commandCount++;
      const commandsTodayCard = document.querySelector(
        "#header-cards div:last-child p"
      );
      commandsTodayCard.textContent = commandCount;
    }

    function showWeather() {
      createCard(
        "weather-card",
        "Weather",
        "fa-cloud-sun",
        `
        <p>Temp: 9¬∞C</p>
        <p>Condition: Rainy</p>
        <p>Humidity: 30%</p>
        <p>Location: London, UK</p>
      `
      );
    }

    function showCalculator() {
      createCard(
        "calculator-card",
        "Calculator",
        "fa-calculator",
        `
      <input id="calc-display" type="text" disabled class="w-full mb-4 p-3 bg-white/20 text-lg text-right rounded-md text-indigo-300" />
      <div class="grid grid-cols-4 gap-3">
        ${[
          "7",
          "8",
          "9",
          "/",
          "4",
          "5",
          "6",
          "*",
          "1",
          "2",
          "3",
          "-",
          "0",
          ".",
          "=",
          "+",
        ]
          .map(
            (v) =>
              `<button onclick="calcInput('${v}')" class="bg-white/20 hover:bg-white/30 rounded-md p-3 font-mono text-lg text-indigo-200 transition">${v}</button>`
          )
          .join("")}
        <button onclick="calcClear()" class="col-span-4 bg-red-600 hover:bg-red-700 rounded-md p-3 font-semibold mt-2 transition">
          Clear
        </button>
      </div>
    `
      );
    }

    let calcVal = "";
    function calcInput(val) {
      if (val === "=") {
        try {
          calcVal = eval(calcVal).toString();
        } catch {
          calcVal = "Error";
        }
      } else {
        calcVal += val;
      }
      document.getElementById("calc-display").value = calcVal;
    }
    function calcClear() {
      calcVal = "";
      document.getElementById("calc-display").value = "";
    }

    function showGPS() {
      createCard("gps-card", "GPS Location", "fa-map-marker-alt", "<p id='gps-info'>Fetching...</p>");
      navigator.geolocation.getCurrentPosition(
        (pos) => {
          document.getElementById("gps-info").textContent =
            "Lat: " +
            pos.coords.latitude.toFixed(4) +
            ", Lng: " +
            pos.coords.longitude.toFixed(4);
        },
        () => (document.getElementById("gps-info").textContent = "Not available")
      );
    }

    function showClock() {
      createCard(
        "clock-card",
        "Clock",
        "fa-clock",
        "<p id='clock-time' class='text-5xl text-center font-semibold'>--:--:--</p>"
      );
      setInterval(() => {
        const el = document.getElementById("clock-time");
        if (el) el.textContent = new Date().toLocaleTimeString();
      }, 1000);
    }

    function showTime() {
      const now = new Date();
      alert("Current time: " + now.toLocaleTimeString());
    }

    function showYouTube() {
      createCard(
        "youtube-card",
        "YouTube",
        "fa-youtube",
        `<button onclick="window.open('https://youtube.com','_blank')" class="w-full py-2 bg-red-600 rounded-md text-white font-semibold hover:bg-red-700 transition">
          Open YouTube
        </button>`
      );
    }

    function playMusic() {
      const audio = new Audio("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3");
      audio.play();
      alert("Playing music...");
    }

    function startVoiceRecognition() {
      const status = document.getElementById("status");
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      if (!SpeechRecognition) return alert("Speech recognition not supported!");

      const recognition = new SpeechRecognition();
      recognition.lang = "en-US";
      recognition.continuous = false;
      recognition.interimResults = false;

      status.classList.remove("hidden");

      recognition.onresult = (e) => {
        const cmd = e.results[0][0].transcript.toLowerCase();
        if (cmd.includes("show weather")) showWeather();
        else if (cmd.includes("show calculator")) showCalculator();
        else if (cmd.includes("show gps")) showGPS();
        else if (cmd.includes("show clock")) showClock();
        else if (cmd.includes("show youtube")) showYouTube();
        else if (cmd.includes("show time")) showTime();
        else if (cmd.includes("play music")) playMusic();
        else alert("Unrecognized command: " + cmd);
        status.classList.add("hidden");
      };

      recognition.onerror = () => status.classList.add("hidden");
      recognition.onend = () => status.classList.add("hidden");

      recognition.start();
    }
  </script>
</body>
</html>
